// Code generated by sqlc. DO NOT EDIT.
// versions:
//   sqlc v1.23.0
// source: champion_aggregator_assignments.sql

package gen

import (
	"context"
	"database/sql"
	"time"
)

const assignChampionToCollector = `-- name: AssignChampionToCollector :one
insert into champion_aggregator_assignments( champion_id,collector_id ) values ($1, $2) returning id, champion_id, collector_id, created_at
`

type AssignChampionToCollectorParams struct {
	ChampionID  int32 `json:"champion_id"`
	CollectorID int32 `json:"collector_id"`
}

func (q *Queries) AssignChampionToCollector(ctx context.Context, arg AssignChampionToCollectorParams) (ChampionAggregatorAssignment, error) {
	row := q.db.QueryRowContext(ctx, assignChampionToCollector, arg.ChampionID, arg.CollectorID)
	var i ChampionAggregatorAssignment
	err := row.Scan(
		&i.ID,
		&i.ChampionID,
		&i.CollectorID,
		&i.CreatedAt,
	)
	return i, err
}

const assignCollectorsToGreenChampion = `-- name: AssignCollectorsToGreenChampion :one
insert into champion_aggregator_assignments(champion_id,collector_id) VALUES($1,$2) returning id, champion_id, collector_id, created_at
`

type AssignCollectorsToGreenChampionParams struct {
	ChampionID  int32 `json:"champion_id"`
	CollectorID int32 `json:"collector_id"`
}

func (q *Queries) AssignCollectorsToGreenChampion(ctx context.Context, arg AssignCollectorsToGreenChampionParams) (ChampionAggregatorAssignment, error) {
	row := q.db.QueryRowContext(ctx, assignCollectorsToGreenChampion, arg.ChampionID, arg.CollectorID)
	var i ChampionAggregatorAssignment
	err := row.Scan(
		&i.ID,
		&i.ChampionID,
		&i.CollectorID,
		&i.CreatedAt,
	)
	return i, err
}

const deleteChampionCollector = `-- name: DeleteChampionCollector :exec
delete from champion_aggregator_assignments where id=$1
`

func (q *Queries) DeleteChampionCollector(ctx context.Context, id int32) error {
	_, err := q.db.ExecContext(ctx, deleteChampionCollector, id)
	return err
}

const getAllChampionCollectorsAssignments = `-- name: GetAllChampionCollectorsAssignments :many

SELECT 
    champion_aggregator_assignments.id, champion_aggregator_assignments.champion_id, champion_aggregator_assignments.collector_id, champion_aggregator_assignments.created_at,
    champion.name AS aggregator_name,
    collector.name AS champion_name
FROM 
    champion_aggregator_assignments
LEFT JOIN 
    companies AS champion ON champion.id = champion_aggregator_assignments.champion_id
LEFT JOIN 
    companies AS collector ON collector.id = champion_aggregator_assignments.collector_id
`

type GetAllChampionCollectorsAssignmentsRow struct {
	ID             int32          `json:"id"`
	ChampionID     int32          `json:"champion_id"`
	CollectorID    int32          `json:"collector_id"`
	CreatedAt      time.Time      `json:"created_at"`
	AggregatorName sql.NullString `json:"aggregator_name"`
	ChampionName   sql.NullString `json:"champion_name"`
}

// champion_aggregator_assignments.sql
func (q *Queries) GetAllChampionCollectorsAssignments(ctx context.Context) ([]GetAllChampionCollectorsAssignmentsRow, error) {
	rows, err := q.db.QueryContext(ctx, getAllChampionCollectorsAssignments)
	if err != nil {
		return nil, err
	}
	defer rows.Close()
	items := []GetAllChampionCollectorsAssignmentsRow{}
	for rows.Next() {
		var i GetAllChampionCollectorsAssignmentsRow
		if err := rows.Scan(
			&i.ID,
			&i.ChampionID,
			&i.CollectorID,
			&i.CreatedAt,
			&i.AggregatorName,
			&i.ChampionName,
		); err != nil {
			return nil, err
		}
		items = append(items, i)
	}
	if err := rows.Close(); err != nil {
		return nil, err
	}
	if err := rows.Err(); err != nil {
		return nil, err
	}
	return items, nil
}

const getAllChampionsForACollector = `-- name: GetAllChampionsForACollector :many
SELECT 
    champion_aggregator_assignments.id, champion_aggregator_assignments.champion_id, champion_aggregator_assignments.collector_id, champion_aggregator_assignments.created_at,
    champion.name AS champion_name,
    collector.name AS collector_name
FROM 
    champion_aggregator_assignments
LEFT JOIN 
    companies AS champion ON champion.id = champion_aggregator_assignments.champion_id
LEFT JOIN 
    companies AS collector ON collector.id = champion_aggregator_assignments.collector_id
WHERE collector_id = $1
`

type GetAllChampionsForACollectorRow struct {
	ID            int32          `json:"id"`
	ChampionID    int32          `json:"champion_id"`
	CollectorID   int32          `json:"collector_id"`
	CreatedAt     time.Time      `json:"created_at"`
	ChampionName  sql.NullString `json:"champion_name"`
	CollectorName sql.NullString `json:"collector_name"`
}

func (q *Queries) GetAllChampionsForACollector(ctx context.Context, collectorID int32) ([]GetAllChampionsForACollectorRow, error) {
	rows, err := q.db.QueryContext(ctx, getAllChampionsForACollector, collectorID)
	if err != nil {
		return nil, err
	}
	defer rows.Close()
	items := []GetAllChampionsForACollectorRow{}
	for rows.Next() {
		var i GetAllChampionsForACollectorRow
		if err := rows.Scan(
			&i.ID,
			&i.ChampionID,
			&i.CollectorID,
			&i.CreatedAt,
			&i.ChampionName,
			&i.CollectorName,
		); err != nil {
			return nil, err
		}
		items = append(items, i)
	}
	if err := rows.Close(); err != nil {
		return nil, err
	}
	if err := rows.Err(); err != nil {
		return nil, err
	}
	return items, nil
}

const getAssignedCollectorsToGreenChampion = `-- name: GetAssignedCollectorsToGreenChampion :many
select id, champion_id, collector_id, created_at from champion_aggregator_assignments where champion_id=$1
`

func (q *Queries) GetAssignedCollectorsToGreenChampion(ctx context.Context, championID int32) ([]ChampionAggregatorAssignment, error) {
	rows, err := q.db.QueryContext(ctx, getAssignedCollectorsToGreenChampion, championID)
	if err != nil {
		return nil, err
	}
	defer rows.Close()
	items := []ChampionAggregatorAssignment{}
	for rows.Next() {
		var i ChampionAggregatorAssignment
		if err := rows.Scan(
			&i.ID,
			&i.ChampionID,
			&i.CollectorID,
			&i.CreatedAt,
		); err != nil {
			return nil, err
		}
		items = append(items, i)
	}
	if err := rows.Close(); err != nil {
		return nil, err
	}
	if err := rows.Err(); err != nil {
		return nil, err
	}
	return items, nil
}

const getCollectorsForGreenChampion = `-- name: GetCollectorsForGreenChampion :many
SELECT 
    champion_aggregator_assignments.id, champion_aggregator_assignments.champion_id, champion_aggregator_assignments.collector_id, champion_aggregator_assignments.created_at,
    champion.name AS champion_name,
    collector.name AS collector_name
FROM 
    champion_aggregator_assignments
LEFT JOIN 
    companies AS champion ON champion.id = champion_aggregator_assignments.champion_id
LEFT JOIN 
    companies AS collector ON collector.id = champion_aggregator_assignments.collector_id
WHERE champion_id = $1
`

type GetCollectorsForGreenChampionRow struct {
	ID            int32          `json:"id"`
	ChampionID    int32          `json:"champion_id"`
	CollectorID   int32          `json:"collector_id"`
	CreatedAt     time.Time      `json:"created_at"`
	ChampionName  sql.NullString `json:"champion_name"`
	CollectorName sql.NullString `json:"collector_name"`
}

func (q *Queries) GetCollectorsForGreenChampion(ctx context.Context, championID int32) ([]GetCollectorsForGreenChampionRow, error) {
	rows, err := q.db.QueryContext(ctx, getCollectorsForGreenChampion, championID)
	if err != nil {
		return nil, err
	}
	defer rows.Close()
	items := []GetCollectorsForGreenChampionRow{}
	for rows.Next() {
		var i GetCollectorsForGreenChampionRow
		if err := rows.Scan(
			&i.ID,
			&i.ChampionID,
			&i.CollectorID,
			&i.CreatedAt,
			&i.ChampionName,
			&i.CollectorName,
		); err != nil {
			return nil, err
		}
		items = append(items, i)
	}
	if err := rows.Close(); err != nil {
		return nil, err
	}
	if err := rows.Err(); err != nil {
		return nil, err
	}
	return items, nil
}

const getTheCollectorForAChampion = `-- name: GetTheCollectorForAChampion :one
select champion_aggregator_assignments.id, champion_aggregator_assignments.champion_id, champion_aggregator_assignments.collector_id, champion_aggregator_assignments.created_at, collector.name AS collector_name  from champion_aggregator_assignments
LEFT JOIN 
    companies AS collector ON collector.id = champion_aggregator_assignments.collector_id
where champion_id=$1
`

type GetTheCollectorForAChampionRow struct {
	ID            int32          `json:"id"`
	ChampionID    int32          `json:"champion_id"`
	CollectorID   int32          `json:"collector_id"`
	CreatedAt     time.Time      `json:"created_at"`
	CollectorName sql.NullString `json:"collector_name"`
}

func (q *Queries) GetTheCollectorForAChampion(ctx context.Context, championID int32) (GetTheCollectorForAChampionRow, error) {
	row := q.db.QueryRowContext(ctx, getTheCollectorForAChampion, championID)
	var i GetTheCollectorForAChampionRow
	err := row.Scan(
		&i.ID,
		&i.ChampionID,
		&i.CollectorID,
		&i.CreatedAt,
		&i.CollectorName,
	)
	return i, err
}

const removeAggrigatorsAssignedFromGreenChampions = `-- name: RemoveAggrigatorsAssignedFromGreenChampions :exec
delete from champion_aggregator_assignments where champion_id =$1
`

func (q *Queries) RemoveAggrigatorsAssignedFromGreenChampions(ctx context.Context, championID int32) error {
	_, err := q.db.ExecContext(ctx, removeAggrigatorsAssignedFromGreenChampions, championID)
	return err
}

const setPickupTimesForGreenChampion = `-- name: SetPickupTimesForGreenChampion :exec
insert into champion_pickup_times(champion_aggregator_assignment_id,pickup_time_stamp_id,pickup_day)VALUES($1,$2,$3)
`

type SetPickupTimesForGreenChampionParams struct {
	ChampionAggregatorAssignmentID int32  `json:"champion_aggregator_assignment_id"`
	PickupTimeStampID              int32  `json:"pickup_time_stamp_id"`
	PickupDay                      string `json:"pickup_day"`
}

func (q *Queries) SetPickupTimesForGreenChampion(ctx context.Context, arg SetPickupTimesForGreenChampionParams) error {
	_, err := q.db.ExecContext(ctx, setPickupTimesForGreenChampion, arg.ChampionAggregatorAssignmentID, arg.PickupTimeStampID, arg.PickupDay)
	return err
}

const updateChampionCollector = `-- name: UpdateChampionCollector :exec
update champion_aggregator_assignments
set
    collector_id = $1
where id = $2
`

type UpdateChampionCollectorParams struct {
	CollectorID int32 `json:"collector_id"`
	ID          int32 `json:"id"`
}

func (q *Queries) UpdateChampionCollector(ctx context.Context, arg UpdateChampionCollectorParams) error {
	_, err := q.db.ExecContext(ctx, updateChampionCollector, arg.CollectorID, arg.ID)
	return err
}
